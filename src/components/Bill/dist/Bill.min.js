"use strict";var __awaiter=this&&this.__awaiter||function(e,s,c,u){return new(c=c||Promise)(function(t,a){function r(e){try{l(u.next(e))}catch(e){a(e)}}function n(e){try{l(u.throw(e))}catch(e){a(e)}}function l(e){e.done?t(e.value):function(t){return t instanceof c?t:new c(function(e){e(t)})}(e.value).then(r,n)}l((u=u.apply(e,s||[])).next())})},__generator=this&&this.__generator||function(a,r){var n,l,s,e,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,l&&(s=2&t[0]?l.return:t[0]?l.throw||((s=l.return)&&s.call(l),0):l.next)&&!(s=s.call(l,t[1])).done)return s;switch(l=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,l=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(a,c)}catch(e){t=[6,e],l=0}finally{n=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};exports.__esModule=!0;var react_1=require("react"),baseUrl_1=require("../../../utils/baseUrl"),axios_1=require("axios"),sweetalert2_1=require("sweetalert2"),Bill=function(e){var l=e.setModal,s=e.setModal1,t=react_1.useState(""),c=t[0],n=t[1],a=react_1.useState(""),u=a[0],i=a[1],r=react_1.useState(""),o=r[0],m=r[1],d=react_1.useState(""),b=d[0],g=d[1],p=react_1.useState(""),f=p[0],v=p[1],h=react_1.useState(""),x=h[0],y=h[1],_=react_1.useState(""),N=_[0],E=_[1],R=react_1.useState(""),w=R[0],S=R[1],C=react_1.useState(""),A=C[0],q=C[1],I=react_1.useState(""),L=I[0],B=I[1],D=react_1.useState(""),F=D[0],P=D[1],k=localStorage.getItem("id"),T=react_1.useState(""),U=T[0],z=T[1],M=react_1.useState(""),$=M[0],G=M[1],H=react_1.useState(""),Y=H[0],Z=H[1],j=react_1.useState(""),J=(j[0],j[1]),K=react_1.useState(""),O=K[0],Q=K[1],V=react_1.useState(""),W=V[0],X=V[1],ee=react_1.useState(""),te=(ee[0],ee[1],react_1.useState("")),ae=te[0],re=te[1],ne=react_1.useState(""),le=ne[0],se=ne[1],ce=react_1.useState(""),ue=ce[0],ie=ce[1],oe=react_1.useState(""),me=oe[0],de=oe[1],be=react_1.useState(""),ge=be[0],pe=be[1];react_1.useEffect(function(){!function(){__awaiter(this,void 0,void 0,function(){var t,a,r;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,axios_1.default.get(baseUrl_1.default+"/users/"+k)];case 1:return t=e.sent(),console.log(t.data),a=t.data,n(a.billingAddress.billingFirstName),i(a.billingAddress.billingLastName),m(a.billingAddress.billingCompanyName),g(a.billingAddress.country),v(a.billingAddress.street),y(a.billingAddress.apartment),E(a.billingAddress.town),S(a.billingAddress.state),q(a.billingAddress.zipCode),B(a.billingAddress.billingPhone),P(a.billingAddress.billingEmail),[3,3];case 2:return r=e.sent(),console.log(r),[3,3];case 3:return[2]}})})}()},[]);return React.createElement("div",{className:"container mx-auto px-40 mt-10"},React.createElement("h2",{className:"font-semibold mb-2"},"BILLING ADDRESS"),React.createElement("hr",{className:"mb-4"}),React.createElement("form",{onSubmit:function(n){return __awaiter(void 0,void 0,void 0,function(){var t,a,r;return __generator(this,function(e){switch(e.label){case 0:return n.preventDefault(),U||me||ue?(pe("Please fix the errors and try again"),[3,5]):[3,1];case 1:t={billingAddress:{billingFirstName:c,billingLastName:u,billingCompanyName:o,country:b,street:f,apartment:x,town:N,state:w,zipCode:A,billingPhone:L,billingEmail:F}},e.label=2;case 2:return e.trys.push([2,4,,5]),[4,axios_1.default.patch(baseUrl_1.default+"/users/"+k,t)];case 3:return a=e.sent(),console.log(a.data),200==a.status&&(sweetalert2_1.default.fire({title:"Success",text:"Your billing address has been updated successfully",icon:"success",confirmButtonText:"Done",confirmButtonColor:"#8DC14F"}),s(!1),l(!1)),[3,5];case 4:return r=e.sent(),console.log(r),[3,5];case 5:return[2]}})})}},React.createElement("label",{className:"text-sm"},"First Name *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:c,onChange:function(e){var t=e.target.value;n(t),G(""===t?"First name cannot be empty":"")},required:!0}),$&&React.createElement("div",{className:"text-red-500"},$),React.createElement("label",{className:"text-sm"},"Last Name *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:u,onChange:function(e){var t=e.target.value;i(t),Z(""===t?"Last name cannot be empty":"")},required:!0}),Y&&React.createElement("div",{className:"text-red-500"},Y),React.createElement("label",{className:"text-sm"},"Company Name "),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:o,onChange:function(e){var t=e.target.value;m(t),J(""===t?"Company name cannot be empty":"")}}),React.createElement("label",{className:"text-sm"},"Country / Region *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:b,onChange:function(e){var t=e.target.value;g(t),Q(""===t?"Country cannot be empty":"")},required:!0}),O&&React.createElement("div",{className:"text-red-500"},O),React.createElement("label",{className:"text-sm"},"Street address *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-2 ",placeholder:"House number and street name",value:f,onChange:function(e){var t=e.target.value;v(t),X(""===t?"Street address cannot be empty":"")},required:!0}),W&&React.createElement("div",{className:"text-red-500"},W),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4 ",placeholder:"Apartment, suite, unite, etc. (optional)",value:x,onChange:function(e){return y(e.target.value)}}),React.createElement("label",{className:"text-sm"},"Town / City *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:N,onChange:function(e){var t=e.target.value;E(t),re(""===t?"Town/city cannot be empty":"")},required:!0}),ae&&React.createElement("div",{className:"text-red-500"},ae),React.createElement("label",{className:"text-sm"},"State *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:w,onChange:function(e){var t=e.target.value;S(t),se(""===t?"State cannot be empty":"")},required:!0}),le&&React.createElement("div",{className:"text-red-500"},le),React.createElement("label",{className:"text-sm"},"Zip Code *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:A,onChange:function(e){var t=e.target.value;q(t),/^[0-9]{5}(?:-[0-9]{4})?$/.test(t)?ie(""):ie("Invalid zip code format")},required:!0}),ue&&React.createElement("div",{className:"text-red-500"},ue),React.createElement("label",{className:"text-sm"},"Phone *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:L,placeholder:"703409876",onChange:function(e){var t=e.target.value;B(t),/^\+?[0-9]{1,10}$/i.test(t)?de(""):de("Invalid phone number format")},required:!0}),me&&React.createElement("div",{className:"text-red-500"},me),React.createElement("label",{className:"text-sm"},"Email address *"),React.createElement("input",{type:"text",className:"w-full px-4 h-10 bg-gray-100 rounded-md mt-2 mb-4",value:F,onChange:function(e){var t=e.target.value;P(t),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?z(""):z("Invalid email format")},required:!0}),U&&React.createElement("div",{className:"text-red-500"},U),React.createElement("button",{type:"submit",className:"bg-primary text-white py-2.5 px-4 mb-4 rounded-md text-sm"},"Save Changes"),ge&&React.createElement("div",{className:"text-red-500"},ge)))};exports.default=Bill;
//# sourceMappingURL=Bill.min.js.map
