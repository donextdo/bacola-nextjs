"use strict";var __awaiter=this&&this.__awaiter||function(e,c,l,u){return new(l=l||Promise)(function(t,a){function r(e){try{s(u.next(e))}catch(e){a(e)}}function n(e){try{s(u.throw(e))}catch(e){a(e)}}function s(e){e.done?t(e.value):function(t){return t instanceof l?t:new l(function(e){e(t)})}(e.value).then(r,n)}s((u=u.apply(e,c||[])).next())})},__generator=this&&this.__generator||function(a,r){var n,s,c,e,l={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,s&&(c=2&t[0]?s.return:t[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,t[1])).done)return c;switch(s=0,c&&(t=[2&t[0],c.value]),t[0]){case 0:case 1:c=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,s=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(c=0<(c=l.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3])){l.label=t[1];break}if(6===t[0]&&l.label<c[1]){l.label=c[1],c=t;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(t);break}c[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(a,l)}catch(e){t=[6,e],s=0}finally{n=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};exports.__esModule=!0;var axios_1=require("axios"),react_1=require("react"),baseUrl_1=require("../../../utils/baseUrl"),sweetalert2_1=require("sweetalert2"),Ship=function(e){var s=e.setModal,c=e.setModal1,t=react_1.useState(""),l=t[0],n=t[1],a=react_1.useState(""),u=a[0],i=a[1],r=react_1.useState(""),o=r[0],m=r[1],d=react_1.useState(""),p=d[0],g=d[1],h=react_1.useState(""),f=h[0],b=h[1],v=react_1.useState(""),x=v[0],y=v[1],_=react_1.useState(""),N=_[0],E=_[1],R=react_1.useState(""),S=R[0],w=R[1],C=react_1.useState(""),A=C[0],q=C[1],I=react_1.useState(""),D=I[0],F=I[1],P=react_1.useState(""),k=P[0],L=P[1],T=localStorage.getItem("id"),U=react_1.useState(""),z=U[0],M=U[1],B=react_1.useState(""),G=B[0],H=B[1],$=react_1.useState(""),Y=$[0],Z=$[1],j=react_1.useState(""),J=(j[0],j[1]),K=react_1.useState(""),O=K[0],Q=K[1],V=react_1.useState(""),W=V[0],X=V[1],ee=react_1.useState(""),te=(ee[0],ee[1],react_1.useState("")),ae=te[0],re=te[1],ne=react_1.useState(""),se=ne[0],ce=ne[1],le=react_1.useState(""),ue=le[0],ie=le[1],oe=react_1.useState(""),me=oe[0],de=oe[1],pe=react_1.useState(""),ge=pe[0],he=pe[1];react_1.useEffect(function(){!function(){__awaiter(this,void 0,void 0,function(){var t,a,r;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,axios_1.default.get(baseUrl_1.default+"/users/"+T)];case 1:return t=e.sent(),console.log(t.data),a=t.data,n(a.shippingAddress.shippingFirstName),i(a.shippingAddress.shippingLastName),m(a.shippingAddress.shippingCompanyName),g(a.shippingAddress.country),b(a.shippingAddress.street),y(a.shippingAddress.apartment),E(a.shippingAddress.town),w(a.shippingAddress.state),q(a.shippingAddress.zipCode),F(a.shippingAddress.shippingphone),L(a.shippingAddress.shippingEmail),[3,3];case 2:return r=e.sent(),console.log(r),[3,3];case 3:return[2]}})})}()},[]);return React.createElement("div",{className:"container mx-auto px-40 mt-10"},React.createElement("h2",{className:"font-semibold mb-2"},"SHIPPING ADDRESS"),React.createElement("hr",{className:"mb-4"}),React.createElement("form",{onSubmit:function(n){return __awaiter(void 0,void 0,void 0,function(){var t,a,r;return __generator(this,function(e){switch(e.label){case 0:return n.preventDefault(),z||me||ue?(he("Please fix the errors and try again"),[3,5]):[3,1];case 1:t={shippingAddress:{shippingFirstName:l,shippingLastName:u,shippingCompanyName:o,country:p,street:f,apartment:x,town:N,state:S,zipCode:A,shippingphone:D,shippingEmail:k}},e.label=2;case 2:return e.trys.push([2,4,,5]),[4,axios_1.default.patch(baseUrl_1.default+"/users/"+T,t)];case 3:return a=e.sent(),console.log(a.data),200==a.status&&(sweetalert2_1.default.fire({title:"Success",text:"Your shipping address has been updated successfully",icon:"success",confirmButtonText:"Done",confirmButtonColor:"#8DC14F"}),c(!1),s(!1)),[3,5];case 4:return r=e.sent(),console.log(r),[3,5];case 5:return[2]}})})}},React.createElement("label",{className:"text-sm"},"First Name *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4 ",value:l,onChange:function(e){var t=e.target.value;n(t),H(""===t?"First name cannot be empty":"")},required:!0}),G&&React.createElement("div",{className:"text-red-500"},G),React.createElement("label",{className:"text-sm"},"Last Name *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:u,onChange:function(e){var t=e.target.value;i(t),Z(""===t?"Last name cannot be empty":"")},required:!0}),Y&&React.createElement("div",{className:"text-red-500"},Y),React.createElement("label",{className:"text-sm"},"Company Name (optional)"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:o,onChange:function(e){var t=e.target.value;m(t),J(""===t?"Company name cannot be empty":"")}}),React.createElement("label",{className:"text-sm"},"Country / Region *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:p,onChange:function(e){var t=e.target.value;g(t),Q(""===t?"Country cannot be empty":"")},required:!0}),O&&React.createElement("div",{className:"text-red-500"},O),React.createElement("label",{className:"text-sm"},"Street address *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-2 px-4",placeholder:"House number and street name",value:f,onChange:function(e){var t=e.target.value;b(t),X(""===t?"Street address cannot be empty":"")},required:!0}),W&&React.createElement("div",{className:"text-red-500"},W),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",placeholder:"Apartment, suite, unite, etc. (optional)",value:x,onChange:function(e){return y(e.target.value)}}),React.createElement("label",{className:"text-sm"},"Town / City *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:N,onChange:function(e){var t=e.target.value;E(t),re(""===t?"Town/city cannot be empty":"")},required:!0}),ae&&React.createElement("div",{className:"text-red-500"},ae),React.createElement("label",{className:"text-sm"},"State *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:S,onChange:function(e){var t=e.target.value;w(t),ce(""===t?"State cannot be empty":"")},required:!0}),se&&React.createElement("div",{className:"text-red-500"},se),React.createElement("label",{className:"text-sm"},"Zip Code *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:A,onChange:function(e){var t=e.target.value;q(t),/^[0-9]{5}(?:-[0-9]{4})?$/.test(t)?ie(""):ie("Invalid zip code format")},required:!0}),ue&&React.createElement("div",{className:"text-red-500"},ue),React.createElement("label",{className:"text-sm"},"Phone *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:D,onChange:function(e){var t=e.target.value.replace(/[^0-9]/g,"");t.length<=9?(F(t),de("")):de("Invalid phone number format")},required:!0}),me&&React.createElement("div",{className:"text-red-500"},me),React.createElement("label",{className:"text-sm"},"Email address *"),React.createElement("input",{type:"text",className:"w-full h-10 bg-gray-100 rounded-md mt-2 mb-4 px-4",value:k,onChange:function(e){var t=e.target.value;L(t),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?M(""):M("Invalid email format")},required:!0}),z&&React.createElement("div",{className:"text-red-500"},z),React.createElement("button",{type:"submit",className:"bg-primary text-white py-2.5 px-4 mb-4 rounded-md text-sm"},"Save Changes"),ge&&React.createElement("div",{className:"text-red-500"},ge)))};exports.default=Ship;
//# sourceMappingURL=Ship.min.js.map
