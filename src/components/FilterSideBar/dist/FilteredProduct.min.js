"use strict";var __awaiter=this&&this.__awaiter||function(e,s,u,c){return new(u=u||Promise)(function(r,t){function a(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){e.done?r(e.value):function(r){return r instanceof u?r:new u(function(e){e(r)})}(e.value).then(a,n)}o((c=c.apply(e,s||[])).next())})},__generator=this&&this.__generator||function(t,a){var n,o,s,e,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return e={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,o&&(s=2&r[0]?o.return:r[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,r[1])).done)return s;switch(o=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,o=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){u.label=r[1];break}if(6===r[0]&&u.label<s[1]){u.label=s[1],s=r;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(r);break}s[2]&&u.ops.pop(),u.trys.pop();continue}r=a.call(t,u)}catch(e){r=[6,e],o=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,e])}}};exports.__esModule=!0;var react_1=require("react"),ProductCard_1=require("@/features/product/ProductCard"),baseUrl_1=require("../../../utils/baseUrl"),axios_1=require("axios"),router_1=require("next/router");exports.FilteredProduct=function(e){var o=e.categoryId,s=e.brand,u=e.subcategory,c=e.minValue,l=e.maxValue,i=e.inStock,d=e.onSale,f=e.perpage,p=e.page,_=e.orderby,r=react_1.useState([]),t=r[0],g=r[1];router_1.useRouter();return react_1.useEffect(function(){__awaiter(void 0,void 0,void 0,function(){var r,t,a,n;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),r=baseUrl_1.default+"/productDetails?",o&&(r+="categoryId="+o),u&&(r+="&subCategories="+u),s&&(r+="&brands="+s),c&&l&&(r+="&min_price="+c+"&max_price="+l),i&&(r+="&stock_status=true"),d&&(r+="&on_sale=true"),_&&(r+="&sort="+_),p&&(r+="&page="+p),f&&(r+="&perpage="+f),[4,axios_1.default.get(r)];case 1:return t=e.sent(),a=t.data.products,console.log("response.data: ",t.data.products),g(a),[3,3];case 2:return n=e.sent(),console.error(n),[3,3];case 3:return[2]}})})},[o,s,u,c,l,i,d,p,f,_]),react_1.useEffect(function(){if(f){if(f||_){(function(){return __awaiter(void 0,void 0,void 0,function(){var r,t,a;return __generator(this,function(e){switch(e.label){case 0:console.log("sssssss 1: ",p),console.log("sssssss 2: ",f),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,axios_1.default.get(baseUrl_1.default+"/products?sort="+_+"&page="+p+"&perpage="+f)];case 2:return r=e.sent(),console.log("perpage || page || orderby"),t=r.data.products,console.log("sssssss 3: ",t),0==t.length&&console.log("bhebhd"),g(t),[3,4];case 3:return a=e.sent(),console.error(a),[3,4];case 4:return[2]}})})})()}}else void __awaiter(void 0,void 0,void 0,function(){var r,t,a;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,axios_1.default.get(baseUrl_1.default+"/products?sort="+_+"&page="+p)];case 1:return r=e.sent(),console.log("!perpage"),t=r.data.products,g(t),[3,3];case 2:return a=e.sent(),console.error(a),[3,3];case 3:return[2]}})})},[f,p,_]),react_1.default.createElement("div",null,0!=t.length?react_1.default.createElement("div",{className:"mx-auto "},react_1.default.createElement("div",{className:"grid lg:grid-cols-4 md:grid-cols-3 grid-cols-2 "},t.map(function(e,r){return react_1.default.createElement(ProductCard_1.ProductCard,{key:e.id,product:e})}))):react_1.default.createElement("p",null,"No results found"))};
//# sourceMappingURL=FilteredProduct.min.js.map
