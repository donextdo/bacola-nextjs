{"version":3,"sources":["Location.tsx"],"names":["react_1","require","md_1","fi_1","axios_1","baseUrl_1","exports","Location","_a","useState","showModal","setShowModal","_b","location","setLocation","_c","locationName","setLocationName","_d","searchQuery","setSearchQuery","filteredLocation","filter","item","toLowerCase","includes","useEffect","__awaiter","get","response","sent","locations","data","console","log","selectedLocation","localStorage","getItem","getInitialLocation","selectedLocationString","getClearLocation","React","createElement","className","onClick","MdKeyboardArrowDown","aria-hidden","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","FiSearch","type","placeholder","value","onChange","e","target","style","maxHeight","overflowY","clear","name","setItem","handleClearLocation","map","key","id","handleSelectLocation"],"mappings":"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","file":"Location.min.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { MdKeyboardArrowDown } from \"react-icons/md\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport axios from \"axios\";\r\nimport baseUrl from \"../../../utils/baseUrl\";\r\n\r\ninterface LocationType {\r\n  dollar_min: any;\r\n  locationName: any;\r\n  id: number;\r\n  name: string;\r\n  min: string;\r\n}\r\n\r\nexport const Location = () => {\r\n  const [showModal, setShowModal] = useState<boolean>(false);\r\n\r\n  const [location, setLocation] = useState<LocationType[]>([]);\r\n\r\n  const [locationName, setLocationName] = useState<string>(\"Select a Location\");\r\n\r\n  const [searchQuery, setSearchQuery] = useState<string>(\"\");\r\n  const filteredLocation = location.filter((item) =>\r\n    item.locationName.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const response = await axios.get(`${baseUrl}/locations/getAll`);\r\n\r\n      const locations = response.data;\r\n\r\n      setLocation(locations);\r\n      console.log(\"location\", locations);\r\n    };\r\n    fetchData();\r\n    setLocationName(locationName);\r\n  }, [locationName]);\r\n\r\n  const handleModal = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleSelectLocation = (location: any) => {\r\n    localStorage.clear();\r\n    setLocationName(location.locationName);\r\n    setShowModal(false);\r\n    localStorage.setItem(\"selectedLocation\", location.locationName);\r\n  };\r\n  const getInitialLocation = () => {\r\n    const selectedLocation = localStorage.getItem(\"selectedLocation\");\r\n    if (selectedLocation) {\r\n      setLocationName(selectedLocation);\r\n    }\r\n  };\r\n\r\n  const handleClearLocation = () => {\r\n    localStorage.clear();\r\n    const name = \"Select a Location\";\r\n    setLocationName(name);\r\n    setShowModal(false);\r\n    localStorage.setItem(\"selectedLocation\", name);\r\n  };\r\n\r\n  const getClearLocation = () => {\r\n    const selectedLocationString = localStorage.getItem(\"selectedLocation\");\r\n    if (selectedLocationString) {\r\n      setLocationName(selectedLocationString);\r\n    } else {\r\n      setLocationName(\"Select a Location\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getInitialLocation();\r\n    getClearLocation();\r\n  }, []);\r\n  return (\r\n    <div className=\" z-40\">\r\n      <div\r\n        className=\"border border-gray-200 rounded-md relative mx-6 flex flex-row justify-start items-center h-[60px] w-[180px] py-6 px-4 shadow-sm cursor-pointer md:mx-3 \"\r\n        onClick={handleModal}\r\n      >\r\n        <div className=\"flex-grow flex flex-col\">\r\n          <div className=\"text-[0.625rem] opacity-50 self-start \">\r\n            Your Location\r\n          </div>\r\n          <div className=\"text-[0.8125rem] self-start font-semibold overflow-hidden whitespace-nowrap text-[#233a95] pr-4\">\r\n            {locationName}\r\n          </div>\r\n        </div>\r\n        <div className=\"flex-shrink flex justify-center items-center w-6 \">\r\n          <MdKeyboardArrowDown className=\"text-xl text-gray-400\" />\r\n        </div>\r\n      </div>\r\n      {showModal && (\r\n        <div className=\"fixed z-40 inset-0 overflow-y-auto\">\r\n          <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div\r\n              className=\"fixed inset-0 transition-opacity\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\r\n            </div>\r\n            <span\r\n              className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              &#8203;\r\n            </span>\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-[420px] sm:w-[420px] sm:p-6 relative w-[420px] h-[530px]\">\r\n              <button\r\n                onClick={() => setShowModal(false)}\r\n                className=\"absolute top-0 right-0 m-4 text-gray-500 hover:text-gray-800\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"h-6 w-6\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M6 18L18 6M6 6l12 12\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n              <div>\r\n                <div className=\"mt-3  sm:mt-5 \">\r\n                  <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\r\n                    Choose your pickup location\r\n                  </h3>\r\n                  <h2 className=\"text-xs leading-6 text-gray-500\">\r\n                    Enter your address and we will specify the offer for your\r\n                    area.\r\n                  </h2>\r\n                  <div className=\"mt-2  h-14\">\r\n                    <div className=\"text-sm bg-gray-100 flex items-center h-14\">\r\n                      <FiSearch\r\n                        type=\"submit\"\r\n                        className=\"min-h-[36px] min-w-[24px] text-gray-600 h-14 ml-3\"\r\n                      />\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search your area\"\r\n                        className=\"bg-gray-100 border border-gray-100 rounded-md py-2 px-3 w-64 h-14\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  className=\"location  mt-5\"\r\n                  style={{ maxHeight: \"300px\", overflowY: \"scroll\" }}\r\n                >\r\n                  <div\r\n                    className=\"flex items-center justify-between px-2 py-4 bg-white text-gray-700 text-sm cursor-pointer\"\r\n                    onClick={() => handleClearLocation()}\r\n                  >\r\n                    <div className=\"hover:text-[#233a95]\">\r\n                      Select a Location\r\n                    </div>\r\n                    <div className=\"rounded-full text-gray-400 font-semibold w-20 px-2 text-xs h-8 border border-gray-200 flex justify-center items-center\">\r\n                      Clear All\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                  {filteredLocation.map((item) => (\r\n                    <div\r\n                      key={item.id}\r\n                      onClick={() => handleSelectLocation(item)}\r\n                    >\r\n                      <div className=\"flex items-center justify-between px-2 py-4 bg-white text-gray-700 text-sm cursor-pointer\">\r\n                        <div className=\"hover:text-[#233a95]\">\r\n                          {item.locationName}\r\n                        </div>\r\n                        {/* <div className=\"rounded-full text-gray-400 font-semibold w-20 px-2 text-xs h-8 border border-gray-200 flex justify-center items-center\">\r\n                          Rs:{item.dollar_min}\r\n                        </div> */}\r\n                      </div>\r\n                      <hr />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"]}