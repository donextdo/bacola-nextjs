{"version":3,"sources":["PageNumber.tsx"],"names":[],"mappings":"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","file":"PageNumber.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { BsArrowLeft, BsArrowRight } from \"react-icons/bs\";\r\nimport axios from \"axios\";\r\nimport baseUrl from \"../../../utils/baseUrl\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nexport const PageNumber = ({ perpage }: any) => {\r\n  let [num, setNum] = useState(1);\r\n  let [cur, setCur] = useState(1);\r\n  let [totalPage, setTotalPage] = useState(0);\r\n  let [currentPage, setCurrentPage] = useState(1);\r\n  const [pageArray, setPageArray] = useState([]);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(\r\n      localStorage.getItem(\"selectedPage\")\r\n        ? parseInt(localStorage.getItem(\"selectedPage\")!)\r\n        : currentPage\r\n    );\r\n\r\n    if (!perpage) {\r\n      const fetchData = async () => {\r\n        const response = await axios.get(\r\n          `${baseUrl}/products?page=${currentPage}`\r\n        );\r\n\r\n        const products = response.data.products;\r\n        setTotalPage(response.data.totalPages);\r\n        setCurrentPage(\r\n          localStorage.getItem(\"selectedPage\")\r\n            ? parseInt(localStorage.getItem(\"selectedPage\")!)\r\n            : response.data.currentPage\r\n        );\r\n        setNum(products.length);\r\n      };\r\n      fetchData();\r\n    } else if (perpage || currentPage) {\r\n      const fetchData = async () => {\r\n        const response = await axios.get(\r\n          `${baseUrl}/products?page=${currentPage}&perpage=${perpage}`\r\n        );\r\n\r\n        const products = response.data.products;\r\n        if (products.length == 0) {\r\n          console.log(\"ddddddd\");\r\n        }\r\n\r\n        setTotalPage(response.data.totalPages);\r\n        setCurrentPage(\r\n          localStorage.getItem(\"selectedPage\")\r\n            ? parseInt(localStorage.getItem(\"selectedPage\")!)\r\n            : response.data.currentPage\r\n        );\r\n        setNum(products.length);\r\n      };\r\n      fetchData();\r\n    }\r\n  }, [perpage, currentPage]);\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"selectedPage\");\r\n  }, [perpage]);\r\n\r\n  useEffect(() => {\r\n    const foo: any = [];\r\n\r\n    for (let i = 0; i < totalPage; i++) {\r\n      const data = {\r\n        id: i,\r\n      };\r\n      foo.push(data);\r\n    }\r\n\r\n    setPageArray(foo);\r\n  }, [totalPage, currentPage]);\r\n\r\n  const goToPage = (page: number) => {\r\n    setCur(page);\r\n    setCurrentPage(page);\r\n    router.push({\r\n      pathname: router.pathname,\r\n      query: { ...router.query, page },\r\n    });\r\n    localStorage.setItem(\"selectedPage\", page.toString());\r\n  };\r\n\r\n  const goToPreviousPage = () => {\r\n    currentPage > 1 && setCurrentPage(currentPage - 1);\r\n  };\r\n\r\n  const goToNextPage = () => {\r\n    currentPage < totalPage && setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-8 flex justify-center items-center flex-wrap pagination-container \">\r\n      <div className=\"flex bg-white font-[Poppins]\">\r\n        <button onClick={goToPreviousPage} className=\"h-12 hover:text-white \">\r\n          <BsArrowLeft className=\" text-gray-500 mr-3 group-hover:text-[#2bbef9] flex justify-center  mt-0\"></BsArrowLeft>\r\n        </button>\r\n\r\n        {pageArray.map((pg: { id: number }, i: number) => (\r\n          <button\r\n            key={i}\r\n            type=\"button\"\r\n            value={pg.id + 1}\r\n            onClick={() => goToPage(pg.id + 1)}\r\n            className={`h-10 mt-1 m-0 w-10 rounded-full ${\r\n              currentPage === pg.id + 1\r\n                ? \"bg-cyan-400 text-white\"\r\n                : \"text-gray-500 hover:bg-gray-100\"\r\n            }`}\r\n            style={{ marginLeft: \"\" }}\r\n          >\r\n            {pg.id + 1}\r\n          </button>\r\n        ))}\r\n\r\n        <button onClick={goToNextPage} className=\"h-12 hover:text-white\">\r\n          <BsArrowRight className=\" text-gray-500 ml-3 group-hover:text-[#2bbef9]  \"></BsArrowRight>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]}