{"version":3,"sources":["Search.tsx"],"names":[],"mappings":"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","file":"Search.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"@/redux/store\";\r\n// import { Product } from \"./product\";\r\nimport { fetchProducts } from \"@/features/product/productSlice\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport { Product } from \"@/features/product/product\";\r\n\r\nexport const SearchItem = () => {\r\n  const [searchItem, setSearchItem] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isHide, setIsHide] = useState(false);\r\n\r\n  const router = useRouter();\r\n\r\n  const dispatch = useDispatch();\r\n  const products = useSelector(\r\n    (state: RootState) => state.product.products\r\n  ) as Product[];\r\n  console.log(products);\r\n\r\n  const handleSubmit = async (e: { preventDefault: () => void }) => {\r\n    setIsLoading(true);\r\n    e.preventDefault();\r\n  };\r\n\r\n  const onSearch = (searchTerm: string) => {\r\n    setSearchItem(searchTerm);\r\n  };\r\n\r\n  const sendView = (itemId: any) => {\r\n    setIsHide(true);\r\n    router.push(`/item-preview/${itemId}`);\r\n    setSearchItem(\"\");\r\n    setIsHide(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\" flex flex-col w-full md:w-full lg:w-96 place-content-center relative\">\r\n      <div className=\"flex relative xl:w-[600px] \">\r\n        <input\r\n          type=\"search\"\r\n          className=\"bg-gray-100 rounded-tl rounded-bl min-h-[60px] md:w-full lg-w-full w-1/2 pl-5 text-sm focus:outline-none \"\r\n          placeholder=\"Search for product...\"\r\n          value={searchItem}\r\n          onChange={(e) => setSearchItem(e.target.value)}\r\n          // onClick={handleSubmit}\r\n        />\r\n        {isLoading ? (\r\n          <div className=\"bg-gray-100 rounded-br rounded-tr min-h-[60px] min-w-[60px]  flex items-center justify-center hover:cursor-pointer\">\r\n            <Spinner />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"bg-gray-100 rounded-br rounded-tr min-h-[60px] min-w-[60px]  flex items-center justify-center hover:cursor-pointer\"\r\n            onClick={() => onSearch(searchItem)}\r\n          >\r\n            <FiSearch\r\n              type=\"submit\"\r\n              className=\"min-h-[36px] min-w-[24px] text-blue-900 \"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {searchItem !== \"\" && !isHide && (\r\n        <div className=\" flex flex-col\">\r\n          <ul className=\"absolute bg-white border-2 border-gray-100 min-w-[37.5rem] z-10\">\r\n            {products\r\n              .filter((item) => {\r\n                const searchTerm = searchItem.toLowerCase();\r\n                const title = item.title.toLowerCase();\r\n                return (\r\n                  searchTerm &&\r\n                  title.startsWith(searchTerm) &&\r\n                  title !== searchTerm\r\n                );\r\n              })\r\n              .slice(0, 7)\r\n              .map((item, index) => (\r\n                <div\r\n                  className=\"flex flex-row items-center justify-between py-1\"\r\n                  key={index}\r\n                >\r\n                  <div className=\"flex items-center\">\r\n                    <li\r\n                      // key={item.id}\r\n                      className=\"cursor-pointer text-start ml-2 border border-gray-100 py-1\"\r\n                    >\r\n                      <Image\r\n                        width={40}\r\n                        height={40}\r\n                        src={item.front}\r\n                        alt={item.title}\r\n                      />\r\n                    </li>\r\n\r\n                    {/* <Link href={`/item-preview/${item._id}`}> */}\r\n                    <li\r\n                      // key={item.id}\r\n                      className=\"cursor-pointer text-start ml-2 flex-1 hover:underline text-sm font-medium\"\r\n                      onClick={() => sendView(item._id)}\r\n                    >\r\n                      {item.title}\r\n                    </li>\r\n                    {/* </Link> */}\r\n                  </div>\r\n                  <div className=\"flex flex-col\">\r\n                    <li\r\n                      // key={item.id}\r\n                      className=\"cursor-pointer text-end text-sm text-gray-400 font-semibold line-through mr-2 text-[14px] font-ff-headings\"\r\n                    >\r\n                      ${item.price}\r\n                    </li>\r\n                    <li\r\n                      // key={item.id}\r\n                      className=\"cursor-pointer text-end text-red-600 text-sm font-semibold mr-2 font-ff-headings\"\r\n                    >\r\n                      $\r\n                      {(\r\n                        item.price -\r\n                        item.price * (item.discount / 100)\r\n                      ).toFixed(2)}\r\n                    </li>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"]}