{"version":3,"sources":["Search.tsx"],"names":["react_1","require","fi_1","Spinner_1","react_redux_1","image_1","router_1","exports","SearchItem","onSearch","searchTerm","setSearchItem","console","log","router","push","_a","useState","searchItem","_b","_c","isLoading","useRouter","products","useDispatch","useSelector","state","product","createElement","className","type","placeholder","value","onChange","e","target","onClick","FiSearch","filter","item","toLowerCase","title","startsWith","slice","map","key","id","width","height","src","front","alt","price"],"mappings":"y7CAAA,IAAAA,QAAAC,QAAA,SACAC,KAAAD,QAAA,kBACAE,UAAAF,QAAA,sBACAG,cAAAH,QAAA,eAIAI,QAAAJ,QAAA,cACAK,SAAAL,QAAA,eAEaM,QAAAC,WAAa,WA2BP,SAAXC,EAAYC,GAChBC,EAAcD,GACdE,QAAQC,IAAI,aAAcH,GAC1BI,EAAOC,KAAK,aA7BR,IAAAC,EAAAhB,QAAAiB,SAAA,IAACC,EAAAF,EAAA,GAAYL,EAAAK,EAAA,GACbG,EAAAnB,QAAAiB,SAAA,IACAG,GADCD,EAAA,GAAeA,EAAA,GAChBnB,QAAAiB,UAAA,IAACI,EAAAD,EAAA,GAEDN,GAFYM,EAAA,GAEHd,SAAAgB,aAGTC,GADWnB,cAAAoB,cACApB,cAAAqB,YACf,SAACC,GAAqB,OAAAA,EAAMC,QAAQJ,YAsCtC,OACEvB,QAAA,QAAA4B,cAAA,MAAA,CAAKC,UAAU,qEACb7B,QAAA,QAAA4B,cAAA,MAAA,CAAKC,UAAU,QACb7B,QAAA,QAAA4B,cAAA,QAAA,CACEE,KAAK,SACLD,UAAU,kGACVE,YAAY,wBACZC,MAAOd,EACPe,SAAU,SAACC,GAAM,OAAAvB,EAAcuB,EAAEC,OAAOH,UAGzCX,EACCrB,QAAA,QAAA4B,cAAA,MAAA,CAAKC,UAAU,sHACb7B,QAAA,QAAA4B,cAACzB,UAAA,QAAO,OAGVH,QAAA,QAAA4B,cAAA,MAAA,CACEC,UAAU,qHACVO,QAAS,WAAM,OAAA3B,EAASS,KAExBlB,QAAA,QAAA4B,cAAC1B,KAAAmC,SAAQ,CACPP,KAAK,SACLD,UAAU,+CAelB7B,QAAA,QAAA4B,cAAA,MAAA,CAAKC,UAAU,iEACb7B,QAAA,QAAA4B,cAAA,KAAA,KACGL,EACEe,OAAO,SAACC,GACP,IAAM7B,EAAaQ,EAAWsB,cACxBC,EAAQF,EAAKE,MAAMD,cACzB,OACE9B,GACA+B,EAAMC,WAAWhC,IACjB+B,IAAU/B,IAGbiC,MAAM,EAAG,GACTC,IAAI,SAACL,GAAS,OACbvC,QAAA,QAAA4B,cAAA,MAAA,CAAKC,UAAU,mCACb7B,QAAA,QAAA4B,cAAA,KAAA,CACEiB,IAAKN,EAAKO,GACVjB,UAAU,8DAEV7B,QAAA,QAAA4B,cAACvB,QAAA,QAAK,CACJ0C,MAAO,GACPC,OAAQ,GACRC,IAAKV,EAAKW,MACVC,IAAKZ,EAAKE,SAGdzC,QAAA,QAAA4B,cAAA,KAAA,CACEiB,IAAKN,EAAKO,GACVjB,UAAU,wDACVO,QAAS,WAAM,OAAA3B,EAAS8B,EAAKE,SAE5BF,EAAKE,OAERzC,QAAA,QAAA4B,cAAA,MAAA,CAAKC,UAAU,iBACb7B,QAAA,QAAA4B,cAAA,KAAA,CACEiB,IAAKN,EAAKO,GACVjB,UAAU,qFAETU,EAAKa,OAERpD,QAAA,QAAA4B,cAAA,KAAA,CACEiB,IAAKN,EAAKO,GACVjB,UAAU,mEAETU,EAAKa","file":"Search.min.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FiSearch } from \"react-icons/fi\";\r\nimport Spinner from \"../Spinner/Spinner\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootState } from \"@/redux/store\";\r\nimport { Product } from \"./product\";\r\nimport { fetchProducts } from \"@/features/product/productSlice\";\r\nimport Image from \"next/image\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nexport const SearchItem = () => {\r\n  const [searchItem, setSearchItem] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const router = useRouter();\r\n\r\n  const dispatch = useDispatch();\r\n  const products = useSelector(\r\n    (state: RootState) => state.product.products\r\n  ) as Product[];\r\n\r\n  const handleSubmit = async (e: { preventDefault: () => void }) => {\r\n    setIsLoading(true);\r\n    e.preventDefault();\r\n    // const response = await fetch(\r\n    //   `https://example.com/api/search?q=${searchItem}`\r\n    // );\r\n    // const data = await response.json();\r\n    // if(response.ok){\r\n    //   setIsLoading(false);\r\n    //   setSearchResults(data);\r\n    //   console.log(data);\r\n    //   alert(\"Search button clicked! \" + searchItem);\r\n    // }\r\n  };\r\n\r\n  const onSearch = (searchTerm: string) => {\r\n    setSearchItem(searchTerm);\r\n    console.log(\"search == \", searchTerm);\r\n    router.push(\"/viewcart\");\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   setIsLoading(true);\r\n  //   // const response = await fetch(\r\n  //   //   `https://example.com/api/search?q=${searchItem}`\r\n  //   // );\r\n  //   // const data = await response.json();\r\n  //   // if(response.ok){\r\n  //   //   setIsLoading(false);\r\n  //   //   setSearchResults(data);\r\n  //   //   console.log(data);\r\n  //   //   alert(\"Search button clicked! \" + searchItem);\r\n  //   // }\r\n  // }, [searchItem]);\r\n\r\n  return (\r\n    <div className=\" flex flex-col min-h-[60px] min-w-[557.51px] place-content-center\">\r\n      <div className=\"flex\">\r\n        <input\r\n          type=\"search\"\r\n          className=\"bg-gray-200 rounded-tl rounded-bl min-h-[60px] min-w-[557.51px] pl-5 text-sm focus:outline-none\"\r\n          placeholder=\"Search for product...\"\r\n          value={searchItem}\r\n          onChange={(e) => setSearchItem(e.target.value)}\r\n          // onClick={handleSubmit}\r\n        />\r\n        {isLoading ? (\r\n          <div className=\"bg-gray-200 rounded-br rounded-tr min-h-[60px] min-w-[60px]  flex items-center justify-center hover:cursor-pointer\">\r\n            <Spinner />\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"bg-gray-200 rounded-br rounded-tr min-h-[60px] min-w-[60px]  flex items-center justify-center hover:cursor-pointer\"\r\n            onClick={() => onSearch(searchItem)}\r\n          >\r\n            <FiSearch\r\n              type=\"submit\"\r\n              className=\"min-h-[36px] min-w-[24px] text-blue-900 \"\r\n            />\r\n          </div>\r\n          /* {searchResults.length > 0 ? (\r\n        <ul>\r\n          {searchResults.map((result) => (\r\n            <li key={result.id}>{result.title}</li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>No results found.</p>\r\n      )} */\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"bg-white flex flex-col border-solid border-2 border-gray-200 \">\r\n        <ul>\r\n          {products\r\n            .filter((item) => {\r\n              const searchTerm = searchItem.toLowerCase();\r\n              const title = item.title.toLowerCase();\r\n              return (\r\n                searchTerm &&\r\n                title.startsWith(searchTerm) &&\r\n                title !== searchTerm\r\n              );\r\n            })\r\n            .slice(0, 7)\r\n            .map((item) => (\r\n              <div className=\"flex flex-row items-center py-1\">\r\n                <li\r\n                  key={item.id}\r\n                  className=\"cursor-pointer text-start ml-2 border border-gray-400 py-1\"\r\n                >\r\n                  <Image\r\n                    width={40}\r\n                    height={40}\r\n                    src={item.front}\r\n                    alt={item.title}\r\n                  />\r\n                </li>\r\n                <li\r\n                  key={item.id}\r\n                  className=\"cursor-pointer text-start ml-2 flex-1 hover:underline\"\r\n                  onClick={() => onSearch(item.title)}\r\n                >\r\n                  {item.title}\r\n                </li>\r\n                <div className=\"flex flex-col\">\r\n                  <li\r\n                    key={item.id}\r\n                    className=\"cursor-pointer text-end text-gray-400 font-semibold line-through mr-2 text-[14px]\"\r\n                  >\r\n                    {item.price}\r\n                  </li>\r\n                  <li\r\n                    key={item.id}\r\n                    className=\"cursor-pointer text-end text-red-700 text-lg font-semibold mr-2\"\r\n                  >\r\n                    {item.price}\r\n                  </li>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]}