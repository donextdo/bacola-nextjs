{"version":3,"sources":["ProductCard.tsx"],"names":[],"mappings":"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","file":"ProductCard.js","sourcesContent":["import React, { ReactElement, useEffect } from \"react\";\r\nimport { FaStar, FaHeart } from \"react-icons/fa\";\r\nimport { SlSizeFullscreen } from \"react-icons/sl\";\r\nimport { FiHeart } from \"react-icons/fi\";\r\nimport { FC, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addItem, updateItemQuantity } from \"../cart/cartSlice\";\r\nimport { updateProductQuantity } from \"./productSlice\";\r\nimport { Product } from \"./product\";\r\n\r\ninterface Props {\r\n  product: Product;\r\n}\r\n\r\nexport const ProductCard: FC<Props> = ({ product }) => {\r\n  const [isDiscount, setIsdiscount] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (parseInt(product.discount) >= 0) {\r\n      setIsdiscount(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleIncrement = (product: Product) => {\r\n    // setQuantity(quantity + 1);\r\n    const newQuantity = (product.quantity || 0) + 1;\r\n    dispatch(updateItemQuantity({ itemId: product.id, quantity: newQuantity }));\r\n    dispatch(\r\n      updateProductQuantity({ productId: product.id, quantity: newQuantity })\r\n    );\r\n  };\r\n\r\n  const handleDecrement = (product: Product) => {\r\n    // setQuantity(quantity - 1);\r\n    const newQuantity = Math.max((product.quantity || 0) - 1, 0);\r\n    dispatch(updateItemQuantity({ itemId: product.id, quantity: newQuantity }));\r\n    dispatch(\r\n      updateProductQuantity({ productId: product.id, quantity: newQuantity })\r\n    );\r\n    if (product.quantity === 1) {\r\n      // dispatch(removeFromCart(id))\r\n      // setIsAddToCart(false)\r\n    }\r\n  };\r\n\r\n  const handleaddToCart = (product: Product) => {\r\n    dispatch(addItem(product));\r\n    const newQuantity = (product.quantity || 0) + 1;\r\n    dispatch(\r\n      updateProductQuantity({ productId: product.id, quantity: newQuantity })\r\n    );\r\n    console.log(product.id);\r\n  };\r\n\r\n  const stars = Array.from({ length: 5 }, (_, i) => (\r\n    <span key={i}>\r\n      <FaStar\r\n        className={\r\n          i < (product.rating as number) ? \"text-yellow-500\" : \"text-gray-400\"\r\n        }\r\n      />\r\n    </span>\r\n  ));\r\n\r\n  return (\r\n    <div\r\n      className=\"md:max-w-[212.95px] md:max-h-[370.24px] min-w-[212.95px] min-h-[350.24px] mx-auto bg-white border border-gray-200  overflow-hidden relative group hover:drop-shadow-lg rounded-sm\"\r\n      key={product.id}\r\n    >\r\n      <div className=\"absolute max-w-[88.41px] max-h-[49px] flex flex-col items-start gap-1 p-2\">\r\n        {isDiscount && (\r\n          <div className=\" font-semibold max-w-[45.39px] max-h-[24px] px-4 py-1 bg-sky-400 text-white rounded text-[10px] flex items-center justify-center\">\r\n            {(product.discount as unknown as ReactElement) != undefined\r\n              ? (product.discount as unknown as ReactElement)\r\n              : 0}\r\n            %\r\n          </div>\r\n        )}\r\n        {product.isRecommended && (\r\n          <div className=\" font-semibold px-2 py-1 bg-gray-500 text-white rounded text-[10px] flex items-center justify-center uppercase tracking-tighter\">\r\n            Recommended\r\n          </div>\r\n        )}\r\n        {product.isOrganic && (\r\n          <div className=\" font-semibold px-2 py-1 bg-emerald-100 text-green-600 rounded-full text-[10px] flex items-center justify-center uppercase tracking-tighter\">\r\n            organic\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"max-w-[40px] max-h-[85px] \">\r\n        <div className=\"absolute max-w-[24px] max-h-[24px] top-2 right-2 bg-white flex items-center justify-center rounded-full h-8 w-8 hover:cursor-pointer drop-shadow-lg md:invisible group-hover:visible md:group-hover:-translate-x-3 md:group-hover:ease-in transition duration-150 hover:bg-blue-900 group/icon2\">\r\n          <SlSizeFullscreen className=\"h-[10px] w-[10px] fill-blue-900 group-hover/icon2:fill-white\" />\r\n        </div>\r\n        <div\r\n          className={`absolute max-w-[24px] max-h-[24px] top-9 right-2 bg-white flex items-center justify-center rounded-full h-8 w-8 hover:cursor-pointer drop-shadow-lg md:invisible group-hover:visible md:group-hover:-translate-x-3 md:group-hover:ease-in transition duration-150 hover:bg-blue-900 group/icon1`}\r\n        >\r\n          {product.isFavourite ? (\r\n            <FaHeart className=\"h-3 w-3 fill-blue-900 group-hover/icon1:fill-white\" />\r\n          ) : (\r\n            <FiHeart className=\"h-3 w-3 text-blue-900 group-hover/icon1:text-white\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\" max-h-[172.95px] min-h-[172.95px] min-w-[154.95px] w-full  hover:cursor-pointer my-2 flex items-center justify-center\">\r\n        <Image\r\n          width={172.95}\r\n          height={154.95}\r\n          src={product.image.front as string}\r\n          alt=\"Man looking at item at a store\"\r\n        />\r\n      </div>\r\n      <div className=\"mx-5 mb-1 max-h-[155.29px] max-w-[212.95] \">\r\n        <div className=\"text-sm font-medium text-black hover:text-indigo-400  capitalize leading-tight hover:cursor-pointer line-clamp-2\">\r\n          {product.title}\r\n        </div>\r\n        <div className=\"my-1 font-[.6875rem] text-xs pt-2 text-green-600 uppercase font-semibold tracking-[.005em]\">\r\n          {product.isAvailable ? \"In Stock\" : \"Out of Stock\"}\r\n        </div>\r\n        <div className=\"text-xs pt-2 flex flex-row items-center my-1\">\r\n          {stars}\r\n        </div>\r\n        <div className=\" flex flex-row items-center\">\r\n          {isDiscount && (\r\n            <span className=\"text-gray-400 text-sm line-through mr-2 my-1 font-[1.125rem]\">\r\n              ${product.price as unknown as ReactElement}\r\n            </span>\r\n          )}\r\n          <span className=\"my-1 text-red-700 text-lg font-semibold\">\r\n            $39.99\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"mx-1 border-black text-black py-2 px-4 mt-1 rounded-full md:invisible group-hover:visible md:group-hover:-translate-y-3 md:group-hover:ease-in transition duration-150\">\r\n        {product.quantity < 1 && (\r\n          <button\r\n            type=\"button\"\r\n            className=\" bg-blue-900 text-white min-h-[34px] min-w-[180.8px] rounded-full w-full \"\r\n            onClick={() => handleaddToCart(product)}\r\n          >\r\n            Add to cart\r\n          </button>\r\n        )}\r\n\r\n        {product.quantity >= 1 && (\r\n          <div className=\"max-h-[34px] w-full flex grid-cols-3 h-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"px-4 max-h-[34px] border-gray-500 bg-slate-500 rounded-tl-3xl rounded-bl-3xl \"\r\n              onClick={() => handleDecrement(product)}\r\n            >\r\n              -\r\n            </button>\r\n            <div className=\"max-h-[34px] flex items-center justify-center w-full text-center border-y\">\r\n              {product.quantity || 0}\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"px-4 max-h-[34px] border-gray-500 bg-yellow-500 rounded-br-3xl rounded-tr-3xl \"\r\n              onClick={() => handleIncrement(product)}\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n//max-w-md\r\n"]}