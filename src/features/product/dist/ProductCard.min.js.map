{"version":3,"sources":["ProductCard.tsx"],"names":["react_1","require","fa_1","sl_1","fi_1","react_2","image_1","react_redux_1","cartSlice_1","productSlice_1","exports","ProductCard","_a","product","_b","useState","isDiscount","setIsdiscount","dispatch","useDispatch","useEffect","parseInt","discount","stars","Array","from","length","_","i","createElement","key","FaStar","className","rating","id","undefined","isRecommended","isOrganic","SlSizeFullscreen","isFavourite","FaHeart","FiHeart","width","height","src","image","front","alt","title","isAvailable","price","quantity","type","onClick","addItem","newQuantity","updateProductQuantity","productId","console","log","handleaddToCart","Math","max","updateItemQuantity","itemId","handleDecrement","handleIncrement"],"mappings":"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","file":"ProductCard.min.js","sourcesContent":["import React, { ReactElement, useEffect } from \"react\";\r\nimport { FaStar, FaHeart } from \"react-icons/fa\";\r\nimport { SlSizeFullscreen } from \"react-icons/sl\";\r\nimport { FiHeart } from \"react-icons/fi\";\r\nimport { FC, useState } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { RootState } from \"../../redux/store\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addItem, updateItemQuantity } from \"../cart/cartSlice\";\r\nimport { updateProductQuantity } from \"./productSlice\";\r\nimport { Product } from \"./product\";\r\n\r\ninterface Props {\r\n  product: Product;\r\n}\r\n\r\nexport const ProductCard: FC<Props> = ({ product }) => {\r\n  const [isDiscount, setIsdiscount] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (parseInt(product.discount) >= 0) {\r\n      setIsdiscount(true);\r\n    }\r\n  }, []);\r\n\r\n  const handleIncrement = (product: Product) => {\r\n    // setQuantity(quantity + 1);\r\n    const newQuantity = (product.quantity || 0) + 1;\r\n    dispatch(updateItemQuantity({ itemId: product.id, quantity: newQuantity }));\r\n    dispatch(\r\n      updateProductQuantity({ productId: product.id, quantity: newQuantity })\r\n    );\r\n  };\r\n\r\n  const handleDecrement = (product: Product) => {\r\n    // setQuantity(quantity - 1);\r\n    const newQuantity = Math.max((product.quantity || 0) - 1, 0);\r\n    dispatch(updateItemQuantity({ itemId: product.id, quantity: newQuantity }));\r\n    dispatch(\r\n      updateProductQuantity({ productId: product.id, quantity: newQuantity })\r\n    );\r\n    if (product.quantity === 1) {\r\n      // dispatch(removeFromCart(id))\r\n      // setIsAddToCart(false)\r\n    }\r\n  };\r\n\r\n  const handleaddToCart = (product: Product) => {\r\n    dispatch(addItem(product));\r\n    const newQuantity = (product.quantity || 0) + 1;\r\n    dispatch(\r\n      updateProductQuantity({ productId: product.id, quantity: newQuantity })\r\n    );\r\n    console.log(product.id);\r\n  };\r\n\r\n  const stars = Array.from({ length: 5 }, (_, i) => (\r\n    <span key={i}>\r\n      <FaStar\r\n        className={\r\n          i < (product.rating as number) ? \"text-yellow-500\" : \"text-gray-400\"\r\n        }\r\n      />\r\n    </span>\r\n  ));\r\n\r\n  return (\r\n    <div\r\n      className=\"md:max-w-[212.95px] md:max-h-[370.24px] min-w-[212.95px] min-h-[350.24px] mx-auto bg-white border border-gray-200  overflow-hidden relative group hover:drop-shadow-lg rounded-sm\"\r\n      key={product.id}\r\n    >\r\n      <div className=\"absolute max-w-[88.41px] max-h-[49px] flex flex-col items-start gap-1 p-2\">\r\n        {isDiscount && (\r\n          <div className=\" font-semibold max-w-[45.39px] max-h-[24px] px-4 py-1 bg-sky-400 text-white rounded text-[10px] flex items-center justify-center\">\r\n            {(product.discount as unknown as ReactElement) != undefined\r\n              ? (product.discount as unknown as ReactElement)\r\n              : 0}\r\n            %\r\n          </div>\r\n        )}\r\n        {product.isRecommended && (\r\n          <div className=\" font-semibold px-2 py-1 bg-gray-500 text-white rounded text-[10px] flex items-center justify-center uppercase tracking-tighter\">\r\n            Recommended\r\n          </div>\r\n        )}\r\n        {product.isOrganic && (\r\n          <div className=\" font-semibold px-2 py-1 bg-emerald-100 text-green-600 rounded-full text-[10px] flex items-center justify-center uppercase tracking-tighter\">\r\n            organic\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"max-w-[40px] max-h-[85px] \">\r\n        <div className=\"absolute max-w-[24px] max-h-[24px] top-2 right-2 bg-white flex items-center justify-center rounded-full h-8 w-8 hover:cursor-pointer drop-shadow-lg md:invisible group-hover:visible md:group-hover:-translate-x-3 md:group-hover:ease-in transition duration-150 hover:bg-blue-900 group/icon2\">\r\n          <SlSizeFullscreen className=\"h-[10px] w-[10px] fill-blue-900 group-hover/icon2:fill-white\" />\r\n        </div>\r\n        <div\r\n          className={`absolute max-w-[24px] max-h-[24px] top-9 right-2 bg-white flex items-center justify-center rounded-full h-8 w-8 hover:cursor-pointer drop-shadow-lg md:invisible group-hover:visible md:group-hover:-translate-x-3 md:group-hover:ease-in transition duration-150 hover:bg-blue-900 group/icon1`}\r\n        >\r\n          {product.isFavourite ? (\r\n            <FaHeart className=\"h-3 w-3 fill-blue-900 group-hover/icon1:fill-white\" />\r\n          ) : (\r\n            <FiHeart className=\"h-3 w-3 text-blue-900 group-hover/icon1:text-white\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\" max-h-[172.95px] min-h-[172.95px] min-w-[154.95px] w-full  hover:cursor-pointer my-2 flex items-center justify-center\">\r\n        <Image\r\n          width={172.95}\r\n          height={154.95}\r\n          src={product.image.front as string}\r\n          alt=\"Man looking at item at a store\"\r\n        />\r\n      </div>\r\n      <div className=\"mx-5 mb-1 max-h-[155.29px] max-w-[212.95] \">\r\n        <div className=\"text-sm font-medium text-black hover:text-indigo-400  capitalize leading-tight hover:cursor-pointer line-clamp-2\">\r\n          {product.title}\r\n        </div>\r\n        <div className=\"my-1 font-[.6875rem] text-xs pt-2 text-green-600 uppercase font-semibold tracking-[.005em]\">\r\n          {product.isAvailable ? \"In Stock\" : \"Out of Stock\"}\r\n        </div>\r\n        <div className=\"text-xs pt-2 flex flex-row items-center my-1\">\r\n          {stars}\r\n        </div>\r\n        <div className=\" flex flex-row items-center\">\r\n          {isDiscount && (\r\n            <span className=\"text-gray-400 text-sm line-through mr-2 my-1 font-[1.125rem]\">\r\n              ${product.price as unknown as ReactElement}\r\n            </span>\r\n          )}\r\n          <span className=\"my-1 text-red-700 text-lg font-semibold\">\r\n            $39.99\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"mx-1 border-black text-black py-2 px-4 mt-1 rounded-full md:invisible group-hover:visible md:group-hover:-translate-y-3 md:group-hover:ease-in transition duration-150\">\r\n        {product.quantity < 1 && (\r\n          <button\r\n            type=\"button\"\r\n            className=\" bg-blue-900 text-white min-h-[34px] min-w-[180.8px] rounded-full w-full \"\r\n            onClick={() => handleaddToCart(product)}\r\n          >\r\n            Add to cart\r\n          </button>\r\n        )}\r\n\r\n        {product.quantity >= 1 && (\r\n          <div className=\"max-h-[34px] w-full flex grid-cols-3 h-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"px-4 max-h-[34px] border-gray-500 bg-slate-500 rounded-tl-3xl rounded-bl-3xl \"\r\n              onClick={() => handleDecrement(product)}\r\n            >\r\n              -\r\n            </button>\r\n            <div className=\"max-h-[34px] flex items-center justify-center w-full text-center border-y\">\r\n              {product.quantity || 0}\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"px-4 max-h-[34px] border-gray-500 bg-yellow-500 rounded-br-3xl rounded-tr-3xl \"\r\n              onClick={() => handleIncrement(product)}\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n//max-w-md\r\n"]}